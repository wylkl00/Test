import java.io.UnsupportedEncodingException;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import calculatePoint.JDBC;

/**
 * 
 */

/**
 * @author wangy
 *
 */
public class JSON {
	private static List<Map<String, String>> paramSplit(String paramStr) throws Exception {
		int maxLength = 4000;
		String defaultCharset = "GBK";		
		
		byte[] paramBytes = paramStr.getBytes(defaultCharset);
		List<Map<String, String>> newParam = new ArrayList<>();
		int order_no = 1;
		while (paramBytes.length > maxLength) {
			int i;
			Map<String, String> map = new HashMap<>();
			for (i = maxLength ; i >= 1; i--) {
				if (paramBytes[i-1] >= 0) break;
			}
			//全是中文
			if(i == 0){
				i=maxLength;
			}
			// 0到i-1即为开头到逗号处作为一个串 长度为i
			map.put("param_data", new String(paramBytes, 0, i, defaultCharset));
			map.put("order_no", String.valueOf(order_no));
			newParam.add(map);
			order_no++;
			paramBytes = Arrays.copyOfRange(paramBytes, i, paramBytes.length);
		}

		Map<String, String> map = new HashMap<>();
		map.put("param_data", new String(paramBytes, defaultCharset));
		map.put("order_no", String.valueOf(order_no));
		newParam.add(map);
		return newParam;
	}
	
	public static void main(String[] args) throws Exception {
	
		String str = "{\"param\":{\"branch_no\":\"100\",\"stock_company_name\":\"山东省国际信托投资公司舜耕路营业部\",\"acpt_category_name\":\"证券转托管\",\"fare\":\"0\",\"exchange_type\":\"2\",\"seat_no\":\"018700\",\"password\":\"/vxO2WgIZnY=\",\"deputy_flag\":\"0\",\"enable_balance\":\"3.00\",\"context\":\"[{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"深发展Ａ\\\",\\\"stock_code\\\":\\\"000001\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"1000\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"22.5500\\\",\\\"market_value\\\":\\\"22550.0000\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"万  科Ａ\\\",\\\"stock_code\\\":\\\"000002\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"5454\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"10.3300\\\",\\\"market_value\\\":\\\"56339.8200\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"*ST国农\\\",\\\"stock_code\\\":\\\"000004\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"50000\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"10.0000\\\",\\\"market_value\\\":\\\"500000.0000\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"世纪星源\\\",\\\"stock_code\\\":\\\"000005\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"3434\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"5.4800\\\",\\\"market_value\\\":\\\"18818.3200\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"深振业Ａ\\\",\\\"stock_code\\\":\\\"000006\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"543543\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"10.7000\\\",\\\"market_value\\\":\\\"5815910.1000\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"ST 达 声\\\",\\\"stock_code\\\":\\\"000007\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"5434\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"6.6000\\\",\\\"market_value\\\":\\\"35864.4000\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"ST宝利来\\\",\\\"stock_code\\\":\\\"000008\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"5432\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"12.2800\\\",\\\"market_value\\\":\\\"66704.9600\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"中国宝安\\\",\\\"stock_code\\\":\\\"000009\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"2322\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"10.4600\\\",\\\"market_value\\\":\\\"24288.1200\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"S ST华新\\\",\\\"stock_code\\\":\\\"000010\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"1223\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"10.8200\\\",\\\"market_value\\\":\\\"13232.8600\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"深物业A\\\",\\\"stock_code\\\":\\\"000011\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"12321\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"9.6900\\\",\\\"market_value\\\":\\\"119390.4900\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"南  玻Ａ\\\",\\\"stock_code\\\":\\\"000012\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"4332\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"18.7500\\\",\\\"market_value\\\":\\\"81225.0000\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"沙河股份\\\",\\\"stock_code\\\":\\\"000014\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"43543\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"15.0000\\\",\\\"market_value\\\":\\\"653145.0000\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"深康佳Ａ\\\",\\\"stock_code\\\":\\\"000016\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"32442\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"7.2000\\\",\\\"market_value\\\":\\\"233582.4000\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"S ST中华\\\",\\\"stock_code\\\":\\\"000017\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"4323\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"3.4900\\\",\\\"market_value\\\":\\\"15087.2700\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"*ST中冠A\\\",\\\"stock_code\\\":\\\"000018\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"4323\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"7.8600\\\",\\\"market_value\\\":\\\"33978.7800\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"深深宝Ａ\\\",\\\"stock_code\\\":\\\"000019\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"2212\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"10.1900\\\",\\\"market_value\\\":\\\"22540.2800\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"深华发Ａ\\\",\\\"stock_code\\\":\\\"000020\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"32343\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"10.3000\\\",\\\"market_value\\\":\\\"333132.9000\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"长城开发\\\",\\\"stock_code\\\":\\\"000021\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"3224\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"12.3000\\\",\\\"market_value\\\":\\\"39655.2000\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"深赤湾Ａ\\\",\\\"stock_code\\\":\\\"000022\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"5645\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"14.6300\\\",\\\"market_value\\\":\\\"82586.3500\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"深天地Ａ\\\",\\\"stock_code\\\":\\\"000023\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"32211\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"9.4400\\\",\\\"market_value\\\":\\\"304071.8400\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"招商地产\\\",\\\"stock_code\\\":\\\"000024\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"323212\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"25.9800\\\",\\\"market_value\\\":\\\"8397047.7600\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"特  力Ａ\\\",\\\"stock_code\\\":\\\"000025\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"223\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"10.6600\\\",\\\"market_value\\\":\\\"2377.1800\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"飞亚达Ａ\\\",\\\"stock_code\\\":\\\"000026\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"3232\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"12.7700\\\",\\\"market_value\\\":\\\"41272.6400\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"深圳能源\\\",\\\"stock_code\\\":\\\"000027\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"32\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"12.9600\\\",\\\"market_value\\\":\\\"414.7200\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"一致药业\\\",\\\"stock_code\\\":\\\"000028\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"12\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"27.1600\\\",\\\"market_value\\\":\\\"325.9200\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"深深房Ａ\\\",\\\"stock_code\\\":\\\"000029\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"22323\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"6.9200\\\",\\\"market_value\\\":\\\"154475.1600\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"*ST盛润A\\\",\\\"stock_code\\\":\\\"000030\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"2\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"7.7000\\\",\\\"market_value\\\":\\\"15.4000\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"中粮地产\\\",\\\"stock_code\\\":\\\"000031\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"21\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"10.7000\\\",\\\"market_value\\\":\\\"224.7000\\\"},{\\\"stock_account\\\":\\\"0111468254\\\",\\\"stock_name\\\":\\\"深桑达Ａ\\\",\\\"stock_code\\\":\\\"000032\\\",\\\"seat_no\\\":\\\"100010\\\",\\\"transmit_amount\\\":\\\"3245\\\",\\\"frozen_amount\\\":\\\"0\\\",\\\"asset_price\\\":\\\"8.3800\\\",\\\"market_value\\\":\\\"27193.1000\\\"}]\",\"fund_account\":\"3004236\",\"client_id\":\"003009051\"},\"base\":{\"menu_id\":\"1112\",\"branch_no\":\"100\",\"user_type\":\"1\",\"operator_no\":\"6851\",\"op_station\":\"F01FAF1D0BEC\",\"mainBranchNo\":\"5555\",\"op_entrust_way\":\"z\",\"audit_action\":\"1\",\"op_branch_no\":\"100\"}}";
		String str2 ="开放最短路径优先协议，它是IETF组织开发的一个基于链路状态的内部网关协议。大家从Open这个词就可以看出来，这个协议是公开的，可以支持不同厂家的设备，而我们下面要讲到的EIGRP就是思科所独有的。OSPF目前使用的是版本2，可适应大规模网络，因为OSPF没有RIP的跳数限制，并且由于引进了区域的概念也比EIGRP支持的网络规模大。OSPF已经被广泛的用在网络、企业网络、电力网络、金融网络、是一个支持大规模网络的IGP路由协议，最多可支持几百台路由器的网络规模。下面咱们来看一下OSPF的优点：路由变化收敛速度快：OSPF的路由是经过路由器存储在本地的数据库计算出来的，当发生网络更新的时候不需要被动的询问邻居路由器，所以OSPF相对来说收敛速度比较快。无路由环路：OSPF路由协议采用的是最短路径优先算法(SPF)，而且路由器用RouterID来表示，所以可以保证在一个区域内没有环路，由于使用直连骨干区域的设计，所以可以保证即使在多载的情况下无环路出现。注意，这里所说的无环路的意思是当网络仅使用OSPF路由协议时没有环路，如果出现其他路由协议或静态路由的参与，就不能保证没有环路了。支持CIDR和VLSM：我们前面所讲的RIP路由协议不支持CIDR和VLSM，这被认为是RIP路由不适用于大型网络的又一个重要原因，采用CIDR和VLSM可以在最大限度上节约IP地址。层次区域划分：在OSPF中，一个网络可以被划分为很多个区域Area，其中分为两种：骨区域(area0)和常规区域，其中常规区域可以支持42亿个，2的32次方个区域，绝对够用。但是要求所有的常规区域必须与骨干区域相连，一个区域通过OSPF边界路由器相连，区域间可以通过路由汇总(Summary)来减少路由信息，减小路由表，提高路由器的运算速度。组播地址发送协议报文：使用专用的组播地址发送协议报文，因为是在小范围内通讯，所以可以减少对网络中非OSPF设备的影响。下面咱们要介绍OSPF中一个重要但是很不算复杂的概念：RouterID(RID)一台路由器如果要运行OSPF协议，就必须存在RouterID。RouterID的作用其实很简单，就是唯一标示一台OSPF路由器，如果没有配置ID号，系统会从当前接口的IP地址中自动选一个作为路由器的ID号。选择顺序通常是优先从loopback地址中选择一个作为路由器的ID号;也可以从接口地址中选择，这时如果同时存在多个接口，则将接口中最大的IP地址作为路由器的ID号。也就是说如果有逻辑接口也就是Loopback接口，则使用Loopback地址作为自己的RID，那如果没有逻辑接口，只有物理接口，则会使用物理接口IP地址比较大的那个作为自己的RIP。那么哪些是物理接口如：Serial口，Ethernet口，ATM口等等，但是如果有两个逻辑接口，则也是逻辑接口中IP地址较大的那个为RID。通常建议先RouterID再配置OSPF路由协议，否则如果先启动了OSPF而路由器自己选举的RouterID又不是你希望的，那么重新重新配置RouterID就需要重启动一次OSPF路由进程了。为什么使用LoopbackIP地址来优先配置RouterID?因为早期的路由器操作(IOS)中使用物理接口IP地址充当RouterID，如果物理接口出现问题而down了，那么RouterID也就跟着消失了。这样很容易OSPF路由协议的不稳定。虽然现在路由器操作系统已经改掉了这个BUG，但路由器优先考比物理接口稳定的Loopback口IP地址成为了一个惯例。另外由于Loopback接口一般不参与路由工作，所以可以通过Loopback接口优先配置RouterID。手动配置RouterID的好处：因为OSPF协议以RouterID识别邻居路由器，所以当出现各川问题的时候管理员总是看到RouterID路由器有问题。那么在分配RouterID的时候，就可以考虑按照逻辑或物理的地址来进行分配。在Cisco路由器中还有一个特性是通过;架设DNS服务器来解析RouterID名称。这样当网络管理员监视网络状况的时候就可以直接看到对方路由器的名字了。咱们了解了RouterID之后咱们就要接着来了解另外两个概述DR和BDR：因为RouterID直接影响到DB和BDR的选举，我们来详细看一下，我们先从一个图入手：开放最短路径优先协议，它是IETF组织开发的一个基于链路状态的内部网关协议。大家从Open这个词就可以看出来，这个协议是公开的，可以支持不同厂家的设备，而我们下面要讲到的EIGRP就是思科所独有的。OSPF目前使用的是版本2，可适应大规模网络，因为OSPF没有RIP的跳数限制，并且由于引进了区域的概念也比EIGRP支持的网络规模大。OSPF已经被广泛的用在网络、企业网络、电力网络、金融网络、是一个支持大规模网络的IGP路由协议，最多可支持几百台路由器的网络规模。下面咱们来看一下OSPF的优点：路由变化收敛速度快：OSPF的路由是经过路由器存储在本地的数据库计算出来的，当发生网络更新的时候不需要被动的询问邻居路由器，所以OSPF相对来说收敛速度比较快。无路由环路：OSPF路由协议采用的是最短路径优先算法(SPF)，而且路由器用RouterID来表示，所以可以保证在一个区域内没有环路，由于使用直连骨干区域的设计，所以可以保证即使在多载的情况下无环路出现。注意，这里所说的无环路的意思是当网络仅使用OSPF路由协议时没有环路，如果出现其他路由协议或静态路由的参与，就不能保证没有环路了。支持CIDR和VLSM：我们前面所讲的RIP路由协议不支持CIDR和VLSM，这被认为是RIP路由不适用于大型网络的又一个重要原因，采用CIDR和VLSM可以在最大限度上节约IP地址。层次区域划分：在OSPF中，一个网络可以被划分为很多个区域Area，其中分为两种：骨区域(area0)和常规区域，其中常规区域可以支持42亿个，2的32次方个区域，绝对够用。但是要求所有的常规区域必须与骨干区域相连，一个区域通过OSPF边界路由器相连，区域间可以通过路由汇总(Summary)来减少路由信息，减小路由表，提高路由器的运算速度。组播地址发送协议报文：使用专用的组播地址发送协议报文，因为是在小范围内通讯，所以可以减少对网络中非OSPF设备的影响。下面咱们要介绍OSPF中一个重要但是很不算复杂的概念：RouterID(RID)一台路由器如果要运行OSPF协议，就必须存在RouterID。RouterID的作用其实很简单，就是唯一标示一台OSPF路由器，如果没有配置ID号，系统会从当前接口的IP地址中自动选一个作为路由器的ID号。选择顺序通常是优先从loopback地址中选择一个作为路由器的ID号;也可以从接口地址中选择，这时如果同时存在多个接口，则将接口中最大的IP地址作为路由器的ID号。也就是说如果有逻辑接口也就是Loopback接口，则使用Loopback地址作为自己的RID，那如果没有逻辑接口，只有物理接口，则会使用物理接口IP地址比较大的那个作为自己的RIP。那么哪些是物理接口如：Serial口，Ethernet口，ATM口等等，但是如果有两个逻辑接口，则也是逻辑接口中IP地址较大的那个为RID。通常建议先RouterID再配置OSPF路由协议，否则如果先启动了OSPF而路由器自己选举的RouterID又不是你希望的，那么重新重新配置RouterID就需要重启动一次OSPF路由进程了。为什么使用LoopbackIP地址来优先配置RouterID?因为早期的路由器操作(IOS)中使用物理接口IP地址充当RouterID，如果物理接口出现问题而down了，那么RouterID也就跟着消失了。这样很容易OSPF路由协议的不稳定。虽然现在路由器操作系统已经改掉了这个BUG，但路由器优先考比物理接口稳定的Loopback口IP地址成为了一个惯例。另外由于Loopback接口一般不参与路由工作，所以可以通过Loopback接口优先配置RouterID。手动配置RouterID的好处：因为OSPF协议以RouterID识别邻居路由器，所以当出现各川问题的时候管理员总是看到RouterID路由器有问题。那么在分配RouterID的时候，就可以考虑按照逻辑或物理的地址来进行分配。在Cisco路由器中还有一个特性是通过;架设DNS服务器来解析RouterID名称。这样当网络管理员监视网络状况的时候就可以直接看到对方路由器的名字了。咱们了解了RouterID之后咱们就要接着来了解另外两个概述DR和BDR：因为RouterID直接影响到DB和BDR的选举，我们来详细看一下，我们先从一个图入手：开放最短路径优先协议，它是IETF组织开发的一个基于链路状态的内部网关协议。大家从Open这个词就可以看出来，这个协议是公开的，可以支持不同厂家的设备，而我们下面要讲到的EIGRP就是思科所独有的。OSPF目前使用的是版本2，可适应大规模网络，因为OSPF没有RIP的跳数限制，并且由于引进了区域的概念也比EIGRP支持的网络规模大。OSPF已经被广泛的用在网络、企业网络、电力网络、金融网络、是一个支持大规模网络的IGP路由协议，最多可支持几百台路由器的网络规模。下面咱们来看一下OSPF的优点：路由变化收敛速度快：OSPF的路由是经过路由器存储在本地的数据库计算出来的，当发生网络更新的时候不需要被动的询问邻居路由器，所以OSPF相对来说收敛速度比较快。无路由环路：OSPF路由协议采用的是最短路径优先算法(SPF)，而且路由器用RouterID来表示，所以可以保证在一个区域内没有环路，由于使用直连骨干区域的设计，所以可以保证即使在多载的情况下无环路出现。注意，这里所说的无环路的意思是当网络仅使用OSPF路由协议时没有环路，如果出现其他路由协议或静态路由的参与，就不能保证没有环路了。支持CIDR和VLSM：我们前面所讲的RIP路由协议不支持CIDR和VLSM，这被认为是RIP路由不适用于大型网络的又一个重要原因，采用CIDR和VLSM可以在最大限度上节约IP地址。层次区域划分：在OSPF中，一个网络可以被划分为很多个区域Area，其中分为两种：骨区域(area0)和常规区域，其中常规区域可以支持42亿个，2的32次方个区域，绝对够用。但是要求所有的常规区域必须与骨干区域相连，一个区域通过OSPF边界路由器相连，区域间可以通过路由汇总(Summary)来减少路由信息，减小路由表，提高路由器的运算速度。组播地址发送协议报文：使用专用的组播地址发送协议报文，因为是在小范围内通讯，所以可以减少对网络中非OSPF设备的影响。下面咱们要介绍OSPF中一个重要但是很不算复杂的概念：RouterID(RID)一台路由器如果要运行OSPF协议，就必须存在RouterID。RouterID的作用其实很简单，就是唯一标示一台OSPF路由器，如果没有配置ID号，系统会从当前接口的IP地址中自动选一个作为路由器的ID号。选择顺序通常是优先从loopback地址中选择一个作为路由器的ID号;也可以从接口地址中选择，这时如果同时存在多个接口，则将接口中最大的IP地址作为路由器的ID号。也就是说如果有逻辑接口也就是Loopback接口，则使用Loopback地址作为自己的RID，那如果没有逻辑接口，只有物理接口，则会使用物理接口IP地址比较大的那个作为自己的RIP。那么哪些是物理接口如：Serial口，Ethernet口，ATM口等等，但是如果有两个逻辑接口，则也是逻辑接口中IP地址较大的那个为RID。通常建议先RouterID再配置OSPF路由协议，否则如果先启动了OSPF而路由器自己选举的RouterID又不是你希望的，那么重新重新配置RouterID就需要重启动一次OSPF路由进程了。为什么使用LoopbackIP地址来优先配置RouterID?因为早期的路由器操作(IOS)中使用物理接口IP地址充当RouterID，如果物理接口出现问题而down了，那么RouterID也就跟着消失了。这样很容易OSPF路由协议的不稳定。虽然现在路由器操作系统已经改掉了这个BUG，但路由器优先考比物理接口稳定的Loopback口IP地址成为了一个惯例。另外由于Loopback接口一般不参与路由工作，所以可以通过Loopback接口优先配置RouterID。手动配置RouterID的好处：因为OSPF协议以RouterID识别邻居路由器，所以当出现各川问题的时候管理员总是看到RouterID路由器有问题。那么在分配RouterID的时候，就可以考虑按照逻辑或物理的地址来进行分配。在Cisco路由器中还有一个特性是通过;架设DNS服务器来解析RouterID名称。这样当网络管理员监视网络状况的时候就可以直接看到对方路由器的名字了。咱们了解了RouterID之后咱们就要接着来了解另外两个概述DR和BDR：因为RouterID直接影响到DB和BDR的选举，我们来详细看一下，我们先从一个图入手：开放最短路径优先协议，它是IETF组织开发的一个基于链路状态的内部网关协议。大家从Open这个词就可以看出来，这个协议是公开的，可以支持不同厂家的设备，而我们下面要讲到的EIGRP就是思科所独有的。OSPF目前使用的是版本2，可适应大规模网络，因为OSPF没有RIP的跳数限制，并且由于引进了区域的概念也比EIGRP支持的网络规模大。OSPF已经被广泛的用在网络、企业网络、电力网络、金融网络、是一个支持大规模网络的IGP路由协议，最多可支持几百台路由器的网络规模。下面咱们来看一下OSPF的优点：路由变化收敛速度快：OSPF的路由是经过路由器存储在本地的数据库计算出来的，当发生网络更新的时候不需要被动的询问邻居路由器，所以OSPF相对来说收敛速度比较快。无路由环路：OSPF路由协议采用的是最短路径优先算法(SPF)，而且路由器用RouterID来表示，所以可以保证在一个区域内没有环路，由于使用直连骨干区域的设计，所以可以保证即使在多载的情况下无环路出现。注意，这里所说的无环路的意思是当网络仅使用OSPF路由协议时没有环路，如果出现其他路由协议或静态路由的参与，就不能保证没有环路了。支持CIDR和VLSM：我们前面所讲的RIP路由协议不支持CIDR和VLSM，这被认为是RIP路由不适用于大型网络的又一个重要原因，采用CIDR和VLSM可以在最大限度上节约IP地址。层次区域划分：在OSPF中，一个网络可以被划分为很多个区域Area，其中分为两种：骨区域(area0)和常规区域，其中常规区域可以支持42亿个，2的32次方个区域，绝对够用。但是要求所有的常规区域必须与骨干区域相连，一个区域通过OSPF边界路由器相连，区域间可以通过路由汇总(Summary)来减少路由信息，减小路由表，提高路由器的运算速度。组播地址发送协议报文：使用专用的组播地址发送协议报文，因为是在小范围内通讯，所以可以减少对网络中非OSPF设备的影响。下面咱们要介绍OSPF中一个重要但是很不算复杂的概念：RouterID(RID)一台路由器如果要运行OSPF协议，就必须存在RouterID。RouterID的作用其实很简单，就是唯一标示一台OSPF路由器，如果没有配置ID号，系统会从当前接口的IP地址中自动选一个作为路由器的ID号。选择顺序通常是优先从loopback地址中选择一个作为路由器的ID号;也可以从接口地址中选择，这时如果同时存在多个接口，则将接口中最大的IP地址作为路由器的ID号。也就是说如果有逻辑接口也就是Loopback接口，则使用Loopback地址作为自己的RID，那如果没有逻辑接口，只有物理接口，则会使用物理接口IP地址比较大的那个作为自己的RIP。那么哪些是物理接口如：Serial口，Ethernet口，ATM口等等，但是如果有两个逻辑接口，则也是逻辑接口中IP地址较大的那个为RID。通常建议先RouterID再配置OSPF路由协议，否则如果先启动了OSPF而路由器自己选举的RouterID又不是你希望的，那么重新重新配置RouterID就需要重启动一次OSPF路由进程了。为什么使用LoopbackIP地址来优先配置RouterID?因为早期的路由器操作(IOS)中使用物理接口IP地址充当RouterID，如果物理接口出现问题而down了，那么RouterID也就跟着消失了。这样很容易OSPF路由协议的不稳定。虽然现在路由器操作系统已经改掉了这个BUG，但路由器优先考比物理接口稳定的Loopback口IP地址成为了一个惯例。另外由于Loopback接口一般不参与路由工作，所以可以通过Loopback接口优先配置RouterID。手动配置RouterID的好处：因为OSPF协议以RouterID识别邻居路由器，所以当出现各川问题的时候管理员总是看到RouterID路由器有问题。那么在分配RouterID的时候，就可以考虑按照逻辑或物理的地址来进行分配。在Cisco路由器中还有一个特性是通过;架设DNS服务器来解析RouterID名称。这样当网络管理员监视网络状况的时候就可以直接看到对方路由器的名字了。咱们了解了RouterID之后咱们就要接着来了解另外两个概述DR和BDR：因为RouterID直接影响到DB和BDR的选举，我们来详细看一下，我们先从一个图入手：开放最短路径优先协议，它是IETF组织开发的一个基于链路状态的内部网关协议。大家从Open这个词就可以看出来，这个协议是公开的，可以支持不同厂家的设备，而我们下面要讲到的EIGRP就是思科所独有的。OSPF目前使用的是版本2，可适应大规模网络，因为OSPF没有RIP的跳数限制，并且由于引进了区域的概念也比EIGRP支持的网络规模大。OSPF已经被广泛的用在网络、企业网络、电力网络、金融网络、是一个支持大规模网络的IGP路由协议，最多可支持几百台路由器的网络规模。下面咱们来看一下OSPF的优点：路由变化收敛速度快：OSPF的路由是经过路由器存储在本地的数据库计算出来的，当发生网络更新的时候不需要被动的询问邻居路由器，所以OSPF相对来说收敛速度比较快。无路由环路：OSPF路由协议采用的是最短路径优先算法(SPF)，而且路由器用RouterID来表示，所以可以保证在一个区域内没有环路，由于使用直连骨干区域的设计，所以可以保证即使在多载的情况下无环路出现。注意，这里所说的无环路的意思是当网络仅使用OSPF路由协议时没有环路，如果出现其他路由协议或静态路由的参与，就不能保证没有环路了。支持CIDR和VLSM：我们前面所讲的RIP路由协议不支持CIDR和VLSM，这被认为是RIP路由不适用于大型网络的又一个重要原因，采用CIDR和VLSM可以在最大限度上节约IP地址。层次区域划分：在OSPF中，一个网络可以被划分为很多个区域Area，其中分为两种：骨区域(area0)和常规区域，其中常规区域可以支持42亿个，2的32次方个区域，绝对够用。但是要求所有的常规区域必须与骨干区域相连，一个区域通过OSPF边界路由器相连，区域间可以通过路由汇总(Summary)来减少路由信息，减小路由表，提高路由器的运算速度。组播地址发送协议报文：使用专用的组播地址发送协议报文，因为是在小范围内通讯，所以可以减少对网络中非OSPF设备的影响。下面咱们要介绍OSPF中一个重要但是很不算复杂的概念：RouterID(RID)一台路由器如果要运行OSPF协议，就必须存在RouterID。RouterID的作用其实很简单，就是唯一标示一台OSPF路由器，如果没有配置ID号，系统会从当前接口的IP地址中自动选一个作为路由器的ID号。选择顺序通常是优先从loopback地址中选择一个作为路由器的ID号;也可以从接口地址中选择，这时如果同时存在多个接口，则将接口中最大的IP地址作为路由器的ID号。也就是说如果有逻辑接口也就是Loopback接口，则使用Loopback地址作为自己的RID，那如果没有逻辑接口，只有物理接口，则会使用物理接口IP地址比较大的那个作为自己的RIP。那么哪些是物理接口如：Serial口，Ethernet口，ATM口等等，但是如果有两个逻辑接口，则也是逻辑接口中IP地址较大的那个为RID。通常建议先RouterID再配置OSPF路由协议，否则如果先启动了OSPF而路由器自己选举的RouterID又不是你希望的，那么重新重新配置RouterID就需要重启动一次OSPF路由进程了。为什么使用LoopbackIP地址来优先配置RouterID?因为早期的路由器操作(IOS)中使用物理接口IP地址充当RouterID，如果物理接口出现问题而down了，那么RouterID也就跟着消失了。这样很容易OSPF路由协议的不稳定。虽然现在路由器操作系统已经改掉了这个BUG，但路由器优先考比物理接口稳定的Loopback口IP地址成为了一个惯例。另外由于Loopback接口一般不参与路由工作，所以可以通过Loopback接口优先配置RouterID。手动配置RouterID的好处：因为OSPF协议以RouterID识别邻居路由器，所以当出现各川问题的时候管理员总是看到RouterID路由器有问题。那么在分配RouterID的时候，就可以考虑按照逻辑或物理的地址来进行分配。在Cisco路由器中还有一个特性是通过;架设DNS服务器来解析RouterID名称。这样当网络管理员监视网络状况的时候就可以直接看到对方路由器的名字了。咱们了解了RouterID之后咱们就要接着来了解另外两个概述DR和BDR：因为RouterID直接影响到DB和BDR的选举，我们来详细看一下，我们先从一个图入手：";
		String str3 ="Five score years ago, a great American, in whose symbolic shadow we stand today, signed the Emancipation Proclamation. This momentous decree came as a great beacon light of hope to millions of Negro slaves who had been seared in the flames of withering injustice. It came as a joyous daybreak to end the long night of bad captivity.    But one hundred years later, the Negro still is not free. One hundred years later, the life of the Negro is still sadly crippled by the manacles of segregation and the chains of discrimination. One hundred years later, the Negro lives on a lonely island of poverty in the midst of a vast ocean of material prosperity. One hundred years later, the Negro is still languished in the corners of American society and finds himself an exile in his own land. So we’ve come here today to dramatize a shameful condition.    I am not unmindful that some of you have come here out of great trials and tribulations. Some of you have come fresh from narrow jail cells. Some of you have come from areas where your quest for freedom left you battered by the storms of persecution and staggered by the winds of police brutality. You have been the veterans of creative suffering. Continue to work with the faith that unearned suffering is redemptive.Go back to Mississippi, go back to Alabama, go back to South Carolina, go back to Georgia, go back to Louisiana, go back to the slums and ghettos of our northern cities, knowing that somehow this situation can and will be changed. Let us not wallow in the valley of despair.I say to you today, my friends, so even though we face the difficulties of today and tomorrow, I still have a dream. It is a dream deeply rooted in the American dream.    I have a dream that one day this nation will rise up, live up to the true meaning of its creed: “We hold these truths to be self-evident; that all men are created equal.”    I have a dream that one day on the red hills of Georgia the sons of former slaves and the sons of former slave-owners will be able to sit down together at the table of brotherhood.    I have a dream that one day even the state of Mississippi, a state sweltering with the heat of injustice, sweltering with the heat of oppression, will be transformed into an oasis of freedom and justice.    I have a dream that my four children will one day live in a nation where they will not be judged by the color if their skin but by the content of their character.    I have a dream today.    I have a dream that one day down in Alabama with its governor having his lips dripping with the words of interposition and nullification, one day right down in Alabama little black boys and black girls will be able to join hands with little white boys and white girls as sisters and brothers.    I have a dream today.    I have a dream that one day every valley shall be exalted, every hill and mountain shall be made low, the rough places will be made plain, and the crooked places will be made straight, and the glory of the Lord shall be revealed, and all flesh shall see it together.This is our hope. This is the faith that I go back to the South with. With this faith we will be able to hew out of the mountain of despair a stone of hope. With this faith we will be able to transform the jangling discords of our nation into a beautiful symphony of brotherhood. With this faith we will be able to work together, to pray together, to struggle together, to go to jail together, to stand up for freedom together, knowing that we will be free one day.    This will be the day when all of God’s children will be able to sing with new meaning. My country, ’ tis of thee,Sweet land of liberty,Of thee I sing:Land where my fathers died,Land of the pilgrims’ pride,From every mountainsideLet freedom ring.And if America is to be a great nation this must become true. So let freedom ring from the prodigious hilltops of New Hampshire.Let freedom ring from the mighty mountains of New York!Let freedom ring from the heightening Alleghenies of Pennsylvania!Let freedom ring from the snowcapped Rockies of Colorado!Let freedom ring from the curvaceous slops of California!But not only that; let freedom ring from Stone Mountain of Georgia!Let freedom ring from Lookout Mountain of Tennessee!Let freedom ring from every hill and molehill of Mississippi!From every mountainside, let freedom ring!When we let freedom ring, when we let it ring from every village and every hamlet, from every state and every city, we will be able to speed up that day when all of God’s children, black men and white men, Jews and Gentiles, Protestants and Catholics, will be able to join hands and sing in the words of the old Negro spiritual, “Free at last! free at last! thank God almighty, we are free at last!”";
		String str4="开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于使用直连骨干区域的设计所以可以保证即使在多载的情况下无环路出开放最短路径优先协议它是组织开发的一个基于链路状态的内部网关协议大家从这个词就可以看出来这个协议是公开的可以支持不同厂家的设备而我们下面要讲到的就是思科所独有的名字了库计算出来的当发生网络更新的时候不需要被动的询问邻居路由器示所以可以保证在一个区域内没有环路由于";
		incData(String.valueOf((int)(Math.random()*1000000)),paramSplit(str4));
	}
	
	public static void incData(String acpt_id,List<Map<String, String>> newParam) throws SQLException{
		System.out.println(acpt_id);
		for(Map<String,String> map :newParam){
			System.out.println(map.get("param_data"));
			Connection conn =JDBC.getConnection();
			String sql = "insert into bopbusindata(acpt_id,order_no,param_data,column_str,remark) values(?,?,?,' ',' ')";
			PreparedStatement ps =conn.prepareStatement(sql);
			ps.setString(1, acpt_id);
			ps.setString(2, map.get("order_no"));
			ps.setString(3, map.get("param_data"));
			ps.executeUpdate();
		}
	}
	
}
